<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="retail_product_template_search_view_pos" model="ir.ui.view">
            <field name="name">product.template.search.pos.form</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_search_view"/>
            <field name="arch" type="xml">
                <filter name="filter_to_sell" position="before">
                    <filter name="filter_is_combo_item" string="Is Combo Item"
                            domain="[('is_combo_item', '=', True)]"/>
                </filter>
            </field>
        </record>

        <record id="product_template_form_view_retail" model="ir.ui.view">
            <field name="name">product.template.form.inherit</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="point_of_sale.product_template_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//group[@name='pos']" position="after">
                    <group groups="point_of_sale.group_pos_manager" string="Combo Setting">
                        <group>
                            <field name="is_combo_item"/>
                            <field name="combo_price"
                                   attrs="{'required': [('is_combo_item', '=', True)], 'invisible': [('is_combo_item', '=', False)]}"/>
                        </group>
                        <group string="Fixed Items" attrs="{'invisible': [('is_combo_item', '=', True)]}">
                            <field name="combo_item_ids" colspan="4" nolabel="1">
                                <tree string="Fixed Items" editable="bottom">
                                    <field name="product_id"/>
                                    <field name="quantity"/>
                                </tree>
                            </field>
                            <field name="combo_total_price"/>
                        </group>
                    </group>
                </xpath>
            </field>
        </record>


    </data>
</odoo>

